<!-- {^if $full_page^} -->
<!-- {^include file="common/breadcrumb.html"^} -->
<!-- {^include file="common/header.html" controller="FocusList"^} -->
<div class="panel panel-primary panel-dark collapsed">
  <div class="panel-heading">
    <span class="panel-title">
      <i class="fas fa-search fa-fw"></i>
      進階查詢
    </span>
    <div class="panel-heading-icon">
      <a href="#" data-action="collapse">
        <i class="fas fa-chevron-down"></i>
      </a>
    </div>
  </div>
  <div class="panel-main">
    <form method="post" name="search-form">
    <div class="panel-body">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>歌曲名稱</label>
            <input type="text" name="keyword" value="{^$filter.keyword|default|escape^}" class="form-control">
          </div>
        </div>
      </div>
    </div>
    <div class="panel-footer text-center">
      <button type="submit" class="btn btn-success">
        搜尋
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
    </form>
  </div>
</div>

<form method="post" name="list-form" action="{^$smarty.server.SCRIPT_FILENAME|basename^}">
<input type="hidden" name="action" value="batch_remove">
<div id="list-div" data-remove-text="您確認要刪除這筆資料嗎？" data-record-count='{^$record_count^}' data-page-count='{^$page_count^}' data-filter='{^$filter|default|json_encode^}'>
<!-- {^/if^} -->
  <div class="panel table-light"{^if not $full_page^} assign-query-info="{^$query_info|default^}" assign-gzip-enabled="{^$gzip_enabled|default^}" assign-memory-info="{^$memory_info|default^}"{^/if^}>
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th class="text-center px-width-30 hidden-xs hidden-sm">
            <label class="custom-checkbox">
              <input type="checkbox" data-row-multi="true" class="custom-control-input">
              <span class="custom-control-indicator"></span>
            </label>
          </th>
          <th class="text-center px-width-120 hidden-xs">
            歌曲內碼
          </th>
          <th class="text-center">
            歌曲名稱
          </th>
          <th data-field-sort="is_open" class="text-center px-width-100 hidden-xs hidden-sm hidden-md">
            <span class="pull-right"><i class="fa-fw fas fa-sort-amount{^$sort_is_open|default^}"></i></span>
            是否顯示
          </th>
          <th class="text-center px-width-160 hidden-xs hidden-sm">
            操作
          </th>
          <th class="text-center px-width-50 visible-xs visible-sm">
            操作
          </th>
        </tr>
      </thead>
      <tbody>
        <!-- {^foreach from=$item_arr item=item name=list^} -->
        <tr data-item-id="{^$item.song_id^}">
          <td class="text-center hidden-xs hidden-sm">
            <label class="custom-checkbox">
              <input type="checkbox" name="checkboxes[]" value="{^$item.song_id^}" class="custom-control-input">
              <span class="custom-control-indicator"></span>
            </label>
          </td>
          <td class="text-center hidden-xs">
            {^$item.song_code|escape^}
          </td>
          <td>
            {^$item.zh_song_title|default:$item.en_song_title_1|default:$item.en_song_title_2|escape^}
          </td>
          <td class="text-center hidden-xs hidden-sm hidden-md">
            <label class="switcher switcher-rounded switcher-sm switcher-blank inline">
              <input type="checkbox" data-cell-toggle="show"{^if $item.is_open eq 1^} checked{^/if^}>
              <div class="switcher-indicator">
                <div class="switcher-yes">
                  <i class="fas fa-check"></i>
                </div>
                <div class="switcher-no">
                  <i class="fas fa-times"></i>
                </div>
              </div>
            </label>
          </td>
          <td class="text-center hidden-xs hidden-sm">
            <div class="btn-group-sm">
              <a href="#" ui-sref="{^$smarty.const.SCRIPT_NAME^}({'action':'edit','id':{^$item.song_id^}})" ui-sref-opts="{reload:'{^$smarty.const.SCRIPT_NAME^}',inherit:false}" title="編輯" class="btn btn-outline btn-info">
                <i class="fas fa-pencil-alt fa-fw"></i>
                編輯
              </a>
              <a href="#" title="刪除" class="btn btn-outline btn-danger" data-item-handler="remove">
                <i class="fas fa-trash-alt fa-fw"></i>
                刪除
              </a>
            </div>
          </td>
          <td class="text-center visible-xs visible-sm">
            <div class="dropdown">
              <button type="button" class="btn btn-sm btn-outline btn-outline-colorless dropdown-toggle" data-toggle="dropdown" aria-expanded="false" data-position="auto">
                <i class="fas fa-bars"></i>
              </button>
              <div class="dropdown-menu dropdown-menu-right">
                <li><a href="#" ui-sref="{^$smarty.const.SCRIPT_NAME^}({'action':'edit','id':{^$item.song_id^}})" ui-sref-opts="{reload:'{^$smarty.const.SCRIPT_NAME^}',inherit:false}" class="text-info"><i class="dropdown-icon fas fa-pencil-alt fa-fw"></i>&nbsp;&nbsp;編輯</a></li>
                <li><a href="#" data-item-handler="remove" class="text-danger"><i class="dropdown-icon fas fa-trash-alt fa-fw"></i>&nbsp;&nbsp;刪除</a></li>
              </div>
            </div>
          </td>
        </tr>
        <!-- {^foreachelse^} -->
        <tr><td class="no-records" colspan="10">目前沒有任何記錄</td></tr>
        <!-- {^/foreach^} -->
      </tbody>
    </table>
  </div>
  <div class="pull-left hidden-xs hidden-sm">
    <button type="submit" class="btn btn-danger btn-sm" disabled>
      批次刪除
    </button>
  </div>
  <div class="pull-right text-right">{^include file="common/page.html"^}</div>
<!-- {^if $full_page^} -->
</div>
</form>
<!-- {^/if^} -->